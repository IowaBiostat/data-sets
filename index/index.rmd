---
title: Data sets
output:
  html_document:
    template: template.html
    self_contained: false
---

```{r, echo=FALSE}
library(stringr)
id <- list.files(pattern='*.md', recursive=TRUE) |>
  str_subset('^bin/', negate=TRUE) |>
  str_subset('^index/', negate=TRUE) |>
  str_subset('readme.md', negate=TRUE) |>
  str_extract('.*/(.*)\\.md', 1)
f <- function(x) {
  list.files(x, pattern=str_glue('{x}\\.')) |>
    str_subset('\\.md', negate=TRUE) |>
    tools::file_ext()
}
ext <- vapply(id, f, '')
tab <- data.frame(
  Name = id,
  Desc = 'placeholder',
  Download = str_glue('<a href="https://raw.githubusercontent.com/IowaBiostat/data-sets/main/{id}/{id}.{ext}"><i class="bi-cloud-download"></i></a>'),
  Info = str_glue('<a href="{id}.html"><i class="bi-file-text"></i></a>')
)

knitr::kable(
  tab,
  table.attr = "class=\"table table-dark table-striped\"",
  format = "html",
  escape = FALSE,
  align = c('l', 'l', 'c', 'c'))
```
